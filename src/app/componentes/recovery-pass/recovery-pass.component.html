<div class="card text-center mb-1">

    <div class="card-body"
        style="background: rgb(142,137,251);
background: linear-gradient(0deg, rgba(142,137,251,1) 0%, rgba(176,176,247,1) 11%, rgba(236,236,255,1) 39%, rgba(255,255,255,1) 68%);">
        <!-- body -->
        <div style="padding-top: 8%; padding-right: 30%; padding-left: 30%; padding-bottom: 10%;">
            <form #forma="ngForm">

                <div style="padding: 5%; border-radius: 5%;" class="shadow-lg p-3 mb-5 bg-white">
                    <p class="fs-2">Recuperar Contraseña</p>
                    <!-- Correo Electronico -->



                    <div *ngIf="!valido">
                        <div class="row">
                            <div class="col-6 sm-6">
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="floatingInput7" pattern="\d{6,6}"
                                        type="number" class="form-control" placeholder="Correo Electrónico"
                                        [ngClass]="{'is-invalid': recovery_code.errors?.required && forma.controls['recovery_code'].touched }"
                                        name="recovery_code" [(ngModel)]="PinModel.recovery_code" required
                                        #recovery_code="ngModel">
                                    <label for="floatingInput">Clave</label>
                                    <div class="invalid-feedback" *ngIf="recovery_code.errors?.required">
                                        <small>Es necesario ingresar la clave.</small>
                                    </div>
                                    <div class="bad-pattern" *ngIf="recovery_code.errors?.pattern">
                                        <small style="color: red;">La clave requiere
                                            6 digitos.</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 sm-6">
                                <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);"
                                    aria-label="breadcrumb">
                                    <ol class="breadcrumb">
                                        ¿No recibiste ningun PIN?
                                        <li class="breadcrumb-item">
                                            <p style="color: rgb(22, 87, 226); cursor: pointer;"
                                                (click)="ReenviarPin()">
                                                Enviar
                                                nuevamente</p>
                                        </li>
                                        <li class="breadcrumb-item active" aria-current="page"></li>
                                    </ol>
                                </nav>
                            </div>
                        </div>


                        <div class="d-grid gap-2 mt-3">
                            <button [disabled]="forma.invalid" type="button" class="btn btn-outline-primary"
                                (click)="sendPIN()">Validar
                                Clave</button>
                        </div>
                    </div>
                    <form #forma2="ngForm">

                        <div *ngIf="valido">

                            <div class="form-floating mb-3">
                                <input pattern="^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$" type="password"
                                    class="form-control" placeholder="Contraseña"
                                    [ngClass]="{'is-invalid': password.errors?.required && forma2.controls['password'].touched }"
                                    name="password" [(ngModel)]="UsuarioModel.password" required #password="ngModel">
                                <label for="floatingInput">Nueva Contraseña</label>
                                <div class="invalid-feedback" *ngIf="password.errors?.required">
                                    <small>Es necesario ingresar una Contraseña.</small>
                                </div>
                                <div class="bad-pattern" *ngIf="password.errors?.pattern">
                                    <small style="color: red;">La contraseña es invalida</small>
                                </div>
                            </div>

                            <div class="form-floating mb-3">
                                <input [disabled]="password.errors?.required"
                                    pattern="^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$" type="password"
                                    class="form-control" placeholder="Contraseña"
                                    [ngClass]="{'is-invalid': password_confirmation.errors?.required && forma2.controls['password_confirmation'].touched }"
                                    name="password_confirmation" [(ngModel)]="UsuarioModel.password_confirmation"
                                    required #password_confirmation="ngModel">
                                <label for="floatingInput">Repetir Nueva Contraseña</label>
                                <div *ngIf="UsuarioModel.password != UsuarioModel.password_confirmation">
                                    <small style="color: red;">Las contraseñas no coinciden.</small>
                                </div>
                            </div>

                            <div class="d-grid gap-2 mt-3">
                                <button [disabled]="forma2.invalid" type="button" class="btn btn-outline-primary"
                                    (click)="cambiarContrasenia()">Cambiar Contraseña</button>
                            </div>


                        </div>

                    </form>

                </div>


            </form>



        </div>
    </div>
</div>

<div class="d-grid gap-2 mt-3">
    <a href="" id="openModal" style="text-decoration:none; color: rgb(64, 64, 182);" data-bs-toggle="modal"
        data-bs-target="#exampleModal2">Abrir modal</a>
</div>



<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content p-2">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Encuesta (EVALUACION DOCENTE 2021)</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <!-- pregunta 1 opcionMultipleUnica-->
            <div class="modal-body" *ngIf="this.tipoPregunta == 1">
                <div class="row">
                    <div class="col-9 col-lg-11 col-sm-10">
                        <div>
                            <h3>
                                ¿Que animal tiene 7 vidas? <p class="fs-6" style="margin-left: 5%;">(Respuesta unica)
                                </p>
                            </h3>
                        </div>
                        <div style="padding-left: 5%;">

                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault"
                                    id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Gato
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault"
                                    id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Perro
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault"
                                    id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Oso
                                </label>
                            </div>
                        </div>

                    </div>
                    <div class="col-3 col-lg-1 col-sm-2" style="margin-top: 5%;">
                        <button type="button" class="btn btn-outline-primary btn-circle" (click)="pregunta()"><i
                                class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
            <!-- pregunta 2 opcionMultiple-->
            <div class="modal-body" *ngIf="this.tipoPregunta == 2">
                <!-- pregunta2 -->
                <div class="row">
                    <div class="col-9 col-lg-11 col-sm-10">
                        <div>
                            <h3>
                                ¿Cual de estos animales tienen 4 patas? <p class="fs-6 " style="margin-left: 5%;">
                                    (Respuesta multiple)</p>
                            </h3>
                        </div>
                        <div style="padding-left: 5%;">

                            <div class="form-check form-check">
                                <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                                <label class="form-check-label" for="inlineCheckbox1">Gato</label>
                            </div>
                            <div class="form-check form-check">
                                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
                                <label class="form-check-label" for="inlineCheckbox2">Perro</label>
                            </div>
                            <div class="form-check form-check">
                                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
                                <label class="form-check-label" for="inlineCheckbox2">Oso</label>
                            </div>
                        </div>

                    </div>
                    <div class="col-3 col-lg-1 col-sm-2" style="margin-top: 5%;">
                        <button type="button" class="btn btn-outline-primary btn-circle" (click)="pregunta()"><i
                                class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
            <!-- pregunta 3 abiertaCorta-->
            <div class="modal-body" *ngIf="this.tipoPregunta == 3">
                <!-- pregunta2 -->
                <div class="row">
                    <div class="col-9 col-lg-11 col-sm-10">
                        <div>
                            <h3>
                                ¿Actualmente donde vives? <p class="fs-6" style="margin-left: 5%;">(Respuesta corta
                                    min.50 caracterés)</p>
                            </h3>
                        </div>
                        <div style="padding-left: 5%; padding-right:5% ;">

                            <div class="form-floating">
                                <textarea class="form-control" maxlength="50" placeholder="Leave a comment here"
                                    id="floatingTextarea"></textarea>
                                <label for="floatingTextarea">Comments</label>
                            </div>
                        </div>

                    </div>
                    <div class="col-3 col-lg-1 col-sm-2" style="margin-top: 5%;">
                        <button type="button" class="btn btn-outline-primary btn-circle" (click)="pregunta()"><i
                                class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
            <!-- pregunta 4 abiertaLarga-->
            <div class="modal-body" *ngIf="this.tipoPregunta == 4">
                <!-- pregunta2 -->
                <div class="row">
                    <div class="col-9 col-lg-11 col-sm-10">
                        <div>
                            <h3>
                                ¿Cualés son los motivos por los que estudiaste en esta universidad? <p class="fs-6"
                                    style="margin-left: 5%;">
                                    (Respuesta larga max.1000 caracterés)</p>
                            </h3>
                        </div>
                        <div style="padding-left: 5%; padding-right: 5%;">
                            <div class="form-floating">
                                <textarea class="form-control" maxlength="1000" placeholder="Leave a comment here"
                                    id="floatingTextarea2" style="height: 100px"></textarea>
                                <label for="floatingTextarea2">Comentarios</label>
                            </div>
                        </div>

                    </div>
                    <div class="col-3 col-lg-1 col-sm-2" style="margin-top: 5%;">
                        <button type="button" class="btn btn-outline-primary btn-circle" (click)="pregunta()"><i
                                class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
            <!-- pregunta 5 preguntaVerdaderoFalso-->
            <div class="modal-body" *ngIf="this.tipoPregunta == 5">
                <!-- pregunta2 -->
                <div class="row">
                    <div class="col-9 col-lg-11 col-sm-10">
                        <div>
                            <h3>
                                ¿La tierra es plana? <p class="fs-6" style="margin-left: 5%;">(Verdadero ó Falso)</p>
                            </h3>
                        </div>
                        <div style="padding-left: 5%;">

                            <div class="form-check-inline">
                                <input class="form-check-input" type="radio" name="flexRadioDefault"
                                    id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Verdadero
                                </label>
                            </div>
                            <div class="form-check-inline">
                                <input class="form-check-input" type="radio" name="flexRadioDefault"
                                    id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Falso
                                </label>
                            </div>
                        </div>

                    </div>
                    <div class="col-3 col-lg-1 col-sm-2" style="margin-top: 5%;">
                        <button type="button" class="btn btn-outline-primary btn-circle" (click)="pregunta()"><i
                                class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
            <!-- pregunta 6 subirEvidencia-->
            <div class="modal-body" *ngIf="this.tipoPregunta == 6">
                <!-- pregunta2 -->
                <div class="row">
                    <div class="col-9 col-lg-11 col-sm-10">
                        <div>
                            <h3>
                                Subir Archivo <p class="fs-6" style="margin-left: 5%;">("Tipo Archivo")</p>
                            </h3>
                        </div>
                        <div style="padding-left: 5%;">
                            <div class="input-group mb-3">
                                <div class="custom-file">
                                    <input type="file" class="custom-file-input" id="inputGroupFile01">
                                    <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-3 col-lg-1 col-sm-2" style="margin-top: 5%;">
                        <button type="button" class="btn btn-outline-primary btn-circle" (click)="pregunta()"><i
                                class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
            <!-- footer -->
            <div class="modal-footer">
                <div class="progress col-12">
                    <div class="progress-bar" role="progressbar" [ngStyle]="{'width': this.avance}" aria-valuenow="10"
                        aria-valuemin="0" aria-valuemax="100">{{this.avance}}</div>
                </div>
            </div>
        </div>
    </div>
</div>


<footer class="bg-light text-center text-lg-start">
    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgb(255, 255, 255)">
        © 2021 Copyright:
        <a class="text-dark" href="http://www.utags.edu.mx/">UNIVERSIDAD TÉCNOLOGICA DE AGUASCALIENTES</a>
    </div>
    <!-- Copyright -->
</footer>